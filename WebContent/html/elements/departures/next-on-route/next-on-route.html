<link rel="import" href="../../../bower_components/polymer/polymer.html">

<polymer-element name="next-on-route" attributes="route time color destination">
    <template>
        <style>
            .next-on-route-div {
                text-align: right;
            }
            .route-label {
                font-weight: bold;
                width: 40px;
                text-align: right;
            }
            .route-time {
                opacity: 0.54;
            }
            .route-destination {
                width: 50px;
            }
        </style>

        <div layout horizontal style="padding: 5px 10px;">
            <div class="next-on-route-div route-label" style="color: {{color}};">{{route}}&nbsp;&nbsp;</div>
            <div class="{{routeTimeClass}}" flex>{{destination}}</div>
            <div class="next-on-route-div {{routeTimeClass}}">{{time}}</div>
        </div>
    </template>
    <script>
        Polymer({
            timeChanged: function() {
                this.time = this.time.split("ins")[0];

                var time = this.time;
                this.routeTimeClass = time == 'DUE' || (time.lastIndexOf(':') > -1 && time.split(':')[0] == new Date().getHours() && time.split(':')[1] == new Date().getMinutes() + 1)  ? '' : 'route-time';
            }
        })
    </script>
</polymer-element>